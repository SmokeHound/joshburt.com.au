# Staging Environment Configuration
# Copy this file and configure with your staging values

# Environment
NODE_ENV=staging

# Server Configuration
PORT=3000

# JWT Configuration (Use different secret than production!)
JWT_SECRET=your-staging-jwt-secret-change-this
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# Database Configuration - STAGING DATABASE (MUST be separate from production!)
DB_TYPE=postgres

# Staging Database (Neon or other PostgreSQL)
# IMPORTANT: Create a separate database for staging
NEON_DATABASE_URL=postgres://<staging-username>:<staging-password>@<staging-host>/<staging-database>?sslmode=require

# Or use connection details separately
DB_HOST=staging-db-host.neon.tech
DB_PORT=5432
DB_USER=staging_user
DB_PASSWORD=staging_password
DB_NAME=staging_joshburt

# SQLite Configuration (local staging fallback)
DB_PATH=./database.staging.sqlite

# Email Configuration (Use test SMTP or staging-specific)
SMTP_HOST=smtp.mailtrap.io
SMTP_PORT=2525
SMTP_USER=your-mailtrap-user
SMTP_PASS=your-mailtrap-pass
FROM_EMAIL=staging@joshburt.com.au

# OAuth Configuration (Use staging OAuth apps)
GOOGLE_CLIENT_ID=your-staging-google-client-id
GOOGLE_CLIENT_SECRET=your-staging-google-client-secret
GITHUB_CLIENT_ID=your-staging-github-client-id
GITHUB_CLIENT_SECRET=your-staging-github-client-secret

# Auth0 (staging tenant)
AUTH0_DOMAIN=your-staging-tenant.us.auth0.com
AUTH0_CLIENT_ID=your-staging-auth0-client-id
AUTH0_AUDIENCE=optional-staging-api-audience
AUTH0_AUTO_PROVISION=true

# Frontend URL
FRONTEND_URL=https://staging--joshburt.netlify.app
PRODUCTION_URL=https://staging--joshburt.netlify.app

# Security
BCRYPT_ROUNDS=10  # Lower for faster tests in staging
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=200  # More lenient for staging

# Monitoring & Error Tracking (Use staging Sentry project)
SENTRY_DSN=https://your-staging-dsn@sentry.io/staging-project-id
SENTRY_ENVIRONMENT=staging
SENTRY_RELEASE=staging-latest

# Logging
DEBUG=true  # Enable debug logging in staging

# Feature Flags (Staging-specific)
# Enable all features by default for testing
FEATURE_BETA_ENABLED=true
FEATURE_NEW_DASHBOARD_ENABLED=true
FEATURE_ADVANCED_REPORTS_ENABLED=true

# Staging-specific settings
STAGING_MODE=true
ALLOW_TEST_USERS=true
MOCK_EXTERNAL_SERVICES=false
