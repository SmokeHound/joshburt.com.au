<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Progressive Web App Configuration</title>
  <!-- PWA Configuration -->
  <link rel="manifest" href="./manifest.json">
  <meta name="theme-color" content="#3b82f6">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-status-bar-style" content="default">
  <meta name="mobile-web-app-title" content="JoshBurt.com.au">
  <link rel="apple-touch-icon" href="./assets/images/logo-placeholder.svg">
  <!-- Load shared configuration (TailwindCSS, color variables, layout styles) -->
  <script>
    fetch('shared-config.html')
      .then(response => response.text())
      .then(html => {
        const tempDiv = document.createElement('div');
        tempDiv.innerHTML = html;
        const styles = tempDiv.getElementsByTagName('style');
        const scripts = tempDiv.getElementsByTagName('script');
        const links = tempDiv.getElementsByTagName('link');
        for (let link of links) {
          document.head.appendChild(link.cloneNode(true));
        }
        for (let style of styles) {
          document.head.appendChild(style.cloneNode(true));
        }
        for (let script of scripts) {
          const newScript = document.createElement('script');
          newScript.textContent = script.textContent;
          document.head.appendChild(newScript);
        }
      });
  </script>
</head>
<body class="dark min-h-screen font-sans">
  <!-- Service Worker Registration -->
  <script>
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
      navigator.serviceWorker.register('./sw.js')
        .then(registration => {
          console.log('SW registered: ', registration);
        })
        .catch(registrationError => {
          console.log('SW registration failed: ', registrationError);
        });
    });
  }
  </script>
  <!-- Load shared theme functionality (dark/light mode, theme toggle) -->
  <script>
    fetch('shared-theme.html')
      .then(response => response.text())
      .then(html => {
        const tempDiv = document.createElement('div');
        tempDiv.innerHTML = html;
        const scripts = tempDiv.getElementsByTagName('script');
        for (let script of scripts) {
          const newScript = document.createElement('script');
          newScript.textContent = script.textContent;
          document.body.appendChild(newScript);
        }
      });
  </script>
</body>
</html>