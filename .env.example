# Runtime
NODE_ENV=development

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# Database Configuration
# PostgreSQL (required)
# Preferred: a single connection string (Neon/managed Postgres)
DATABASE_URL=postgres://<username>:<password>@<host>/<database>?sslmode=require
# Set this in Netlify project environment variables for production

# Alternative: discrete connection settings (used if DATABASE_URL is not set)
# DB_HOST=your-db-host.neon.tech
# DB_PORT=5432
# DB_USER=your-username
# DB_PASS=your-password
# DB_NAME=your-database

# Database Connection Pool (PostgreSQL)
DB_POOL_MAX=20
DB_POOL_MIN=2
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=3000
DB_QUERY_TIMEOUT=10000
DB_STATEMENT_TIMEOUT=10000

# Optional: apply database-schema.sql on startup (development/ops)
APPLY_SCHEMA_ON_START=0

# Caching / stats
# (In-memory cache by default)
CACHE_STATS_FLUSH_MS=5000

# Email Configuration (optional)
# Required only if you want outbound email features (e.g. email verification, order notifications, email queue delivery).
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
# Optional: force SMTP secure mode (otherwise inferred from port)
# SMTP_SECURE=false
FROM_EMAIL=noreply@joshburt.com.au

# Auth0 (optional OAuth)
AUTH0_DOMAIN=your-tenant.us.auth0.com
AUTH0_CLIENT_ID=your-auth0-client-id
AUTH0_AUDIENCE=optional-api-audience
AUTH0_AUTO_PROVISION=true

# Frontend URL
FRONTEND_URL=http://localhost:8000

# Security
BCRYPT_ROUNDS=12

# Dev/test convenience (DO NOT enable in production)
DISABLE_AUTH=false

# Phase 1.2: Email Queue System
EMAIL_QUEUE_ENABLED=false
EMAIL_WORKER_BATCH_SIZE=10
EMAIL_WORKER_POLL_INTERVAL=60000
EMAIL_WORKER_MAX_TIME=300000

# Phase 7.1: Push Notifications (Web Push)
# Generate VAPID keys with: npx web-push generate-vapid-keys
VAPID_PUBLIC_KEY=your-vapid-public-key
VAPID_PRIVATE_KEY=your-vapid-private-key
VAPID_SUBJECT=mailto:admin@joshburt.com.au

# Backups (optional)
ALLOW_SQL_BACKUPS=false
PG_DUMP_PATH=pg_dump

# Local tooling
NETLIFY_DEV_URL=http://localhost:8888
# Used by function smoke tests when Netlify dev is running
BASE_URL=http://localhost:8888

# Logging
DEBUG=false